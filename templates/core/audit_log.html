{% extends 'base.html' %}

{% block content %}
<h2 class="mt-4 mb-3">
    {% if request.session.lang == 'ms' %}
        Log Audit Sistem (Pemantauan Keselamatan)
    {% else %}
        System Audit Logs (Security Monitoring)
    {% endif %}
</h2>

<div class="table-responsive shadow-sm">
    <table class="table table-striped table-hover table-bordered">
        <thead class="table-dark">
            <tr>
                <th>{% if request.session.lang == 'ms' %}Masa{% else %}Time{% endif %}</th>
                <th>{% if request.session.lang == 'ms' %}Pengguna{% else %}User{% endif %}</th>
                <th>{% if request.session.lang == 'ms' %}Tindakan / Aktiviti{% else %}Action / Activity{% endif %}</th>
                <th>{% if request.session.lang == 'ms' %}Alamat IP{% else %}IP Address{% endif %}</th>
            </tr>
        </thead>
        <tbody>
            {% for log in logs %}
            <tr>
                <td>{{ log.timestamp|date:"d M Y, H:i:s" }}</td>
                <td class="fw-bold">{{ log.user.username|default:"Unknown" }}</td>
                <td class="{% if 'Delete' in log.action %}text-danger{% endif %}">
                    {{ log.action }}
                </td>
                <td>{{ log.ip_address }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" class="text-center">
                    {% if request.session.lang == 'ms' %}Tiada rekod aktiviti.{% else %}No activity records found.{% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}